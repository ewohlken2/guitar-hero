{"version":3,"names":["_useGameStore","require","describe","beforeEach","useGameStore","getState","reset","it","state","expect","score","toBe","combo","isPlaying","_useGameStore$getStat","addHit","i","_useGameStore$getStat2","addMiss","misses","_useGameStore$getStat3","maxCombo"],"sources":["useGameStore.test.ts"],"sourcesContent":["import { useGameStore } from '../../src/stores/useGameStore';\n\ndescribe('useGameStore', () => {\n  beforeEach(() => {\n    useGameStore.getState().reset();\n  });\n\n  it('should start with initial state', () => {\n    const state = useGameStore.getState();\n    expect(state.score).toBe(0);\n    expect(state.combo).toBe(0);\n    expect(state.isPlaying).toBe(false);\n  });\n\n  it('should add score with combo multiplier', () => {\n    const { addHit } = useGameStore.getState();\n\n    // First hit: 1x multiplier\n    addHit('perfect');\n    expect(useGameStore.getState().score).toBe(100);\n    expect(useGameStore.getState().combo).toBe(1);\n\n    // More hits to build combo\n    for (let i = 0; i < 9; i++) {\n      addHit('perfect');\n    }\n    // 10th hit: now at 2x multiplier\n    expect(useGameStore.getState().combo).toBe(10);\n\n    addHit('perfect');\n    // 11th hit with 2x: 100 * 2 = 200 added\n    expect(useGameStore.getState().score).toBe(1000 + 200);\n  });\n\n  it('should reset combo on miss', () => {\n    const { addHit, addMiss } = useGameStore.getState();\n\n    addHit('perfect');\n    addHit('perfect');\n    expect(useGameStore.getState().combo).toBe(2);\n\n    addMiss();\n    expect(useGameStore.getState().combo).toBe(0);\n    expect(useGameStore.getState().misses).toBe(1);\n  });\n\n  it('should track max combo', () => {\n    const { addHit, addMiss } = useGameStore.getState();\n\n    for (let i = 0; i < 5; i++) {\n      addHit('perfect');\n    }\n    expect(useGameStore.getState().maxCombo).toBe(5);\n\n    addMiss();\n    addHit('perfect');\n    addHit('perfect');\n\n    // Max combo should still be 5\n    expect(useGameStore.getState().maxCombo).toBe(5);\n    expect(useGameStore.getState().combo).toBe(2);\n  });\n});\n"],"mappings":"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","ignoreList":[]}