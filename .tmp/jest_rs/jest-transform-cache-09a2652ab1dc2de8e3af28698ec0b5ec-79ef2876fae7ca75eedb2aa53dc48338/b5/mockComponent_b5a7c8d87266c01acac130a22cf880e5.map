{"version":3,"names":["_react","_interopRequireWildcard","require","React","mockComponent","moduleName","instanceMethods","isESModule","_ref","_RealComponent$displa","_RealComponent$render","_Class","RealComponent","jest","requireActual","default","SuperClass","prototype","constructor","Component","name","displayName","render","nameWithoutPrefix","replace","_SuperClass","_classCallCheck2","_callSuper2","arguments","_inherits2","_createClass2","key","value","_this","props","Object","assign","defaultProps","keys","forEach","prop","undefined","createElement","children","defineProperty","writable","enumerable","configurable","classStatic"],"sources":["mockComponent.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\nimport * as React from 'react';\nimport {createElement} from 'react';\n\ntype Modulish<T> = T | $ReadOnly<{default: T}>;\ntype ModuleDefault<T> = T['default'];\n\ntype TComponentType = React.ComponentType<{...}>;\n\n/**\n * WARNING: The `moduleName` must be relative to this file's directory, which is\n * a major footgun. Be careful when using this function!\n */\nexport default function mockComponent<\n  TComponentModule: Modulish<TComponentType>,\n>(\n  moduleName: string,\n  instanceMethods: ?interface {},\n  isESModule: boolean,\n): typeof isESModule extends true\n  ? ModuleDefault<TComponentModule & typeof instanceMethods>\n  : TComponentModule & typeof instanceMethods {\n  const RealComponent: TComponentType = isESModule\n    ? // $FlowIgnore[prop-missing]\n      jest.requireActual<TComponentModule>(moduleName).default\n    : // $FlowIgnore[incompatible-type]\n      jest.requireActual<TComponentModule>(moduleName);\n\n  const SuperClass: typeof React.Component<\n    React.ElementProps<typeof RealComponent>,\n  > =\n    typeof RealComponent === 'function' &&\n    RealComponent.prototype.constructor instanceof React.Component\n      ? RealComponent\n      : React.Component;\n\n  const name =\n    RealComponent.displayName ??\n    RealComponent.name ??\n    // $FlowFixMe[prop-missing] - Checking for `forwardRef` values.\n    (RealComponent.render == null\n      ? 'Unknown'\n      : // $FlowFixMe[incompatible-use]\n        RealComponent.render.displayName ?? RealComponent.render.name);\n\n  const nameWithoutPrefix = name.replace(/^(RCT|RK)/, '');\n\n  const Component = class extends SuperClass {\n    static displayName: ?string = 'Component';\n\n    render(): React.Node {\n      // $FlowIgnore[prop-missing]\n      const props = {...RealComponent.defaultProps};\n\n      if (this.props) {\n        Object.keys(this.props).forEach(prop => {\n          // We can't just assign props on top of defaultProps\n          // because React treats undefined as special and different from null.\n          // If a prop is specified but set to undefined it is ignored and the\n          // default prop is used instead. If it is set to null, then the\n          // null value overwrites the default value.\n          if (this.props[prop] !== undefined) {\n            props[prop] = this.props[prop];\n          }\n        });\n      }\n\n      // $FlowIgnore[not-a-function]\n      // $FlowIgnore[prop-missing]\n      return createElement(nameWithoutPrefix, props, this.props.children);\n    }\n  };\n\n  Object.defineProperty(Component, 'name', {\n    value: name,\n    writable: false,\n    enumerable: false,\n    configurable: true,\n  });\n\n  Component.displayName = nameWithoutPrefix;\n\n  // $FlowIgnore[not-an-object]\n  Object.keys(RealComponent).forEach(classStatic => {\n    Component[classStatic] = RealComponent[classStatic];\n  });\n\n  if (instanceMethods != null) {\n    // $FlowIgnore[unsafe-object-assign]\n    Object.assign(Component.prototype, instanceMethods);\n  }\n\n  // $FlowIgnore[incompatible-return]\n  return Component;\n}\n"],"mappings":";;;;;;;;;;AAUA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA+B,IAAAC,KAAA,GAAAH,MAAA;AAYhB,SAASI,aAAaA,CAGnCC,UAAkB,EAClBC,eAA8B,EAC9BC,UAAmB,EAGyB;EAAA,IAAAC,IAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,MAAA;EAC5C,IAAMC,aAA6B,GAAGL,UAAU,GAE5CM,IAAI,CAACC,aAAa,CAAmBT,UAAU,CAAC,CAACU,OAAO,GAExDF,IAAI,CAACC,aAAa,CAAmBT,UAAU,CAAC;EAEpD,IAAMW,UAEL,GACC,OAAOJ,aAAa,KAAK,UAAU,IACnCA,aAAa,CAACK,SAAS,CAACC,WAAW,YAAYf,KAAK,CAACgB,SAAS,GAC1DP,aAAa,GACbT,KAAK,CAACgB,SAAS;EAErB,IAAMC,IAAI,IAAAZ,IAAA,IAAAC,qBAAA,GACRG,aAAa,CAACS,WAAW,YAAAZ,qBAAA,GACzBG,aAAa,CAACQ,IAAI,YAAAZ,IAAA,GAEjBI,aAAa,CAACU,MAAM,IAAI,IAAI,GACzB,SAAS,IAAAZ,qBAAA,GAETE,aAAa,CAACU,MAAM,CAACD,WAAW,YAAAX,qBAAA,GAAIE,aAAa,CAACU,MAAM,CAACF,IAAK;EAEpE,IAAMG,iBAAiB,GAAGH,IAAI,CAACI,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;EAEvD,IAAML,SAAS,IAAAR,MAAA,aAAAc,WAAA;IAAA,SAAAN,UAAA;MAAA,IAAAO,gBAAA,CAAAX,OAAA,QAAAI,SAAA;MAAA,WAAAQ,WAAA,CAAAZ,OAAA,QAAAI,SAAA,EAAAS,SAAA;IAAA;IAAA,IAAAC,UAAA,CAAAd,OAAA,EAAAI,SAAA,EAAAM,WAAA;IAAA,WAAAK,aAAA,CAAAf,OAAA,EAAAI,SAAA;MAAAY,GAAA;MAAAC,KAAA,EAGb,SAAAV,MAAMA,CAAA,EAAe;QAAA,IAAAW,KAAA;QAEnB,IAAMC,KAAK,GAAAC,MAAA,CAAAC,MAAA,KAAOxB,aAAa,CAACyB,YAAY,CAAC;QAE7C,IAAI,IAAI,CAACH,KAAK,EAAE;UACdC,MAAM,CAACG,IAAI,CAAC,IAAI,CAACJ,KAAK,CAAC,CAACK,OAAO,CAAC,UAAAC,IAAI,EAAI;YAMtC,IAAIP,KAAI,CAACC,KAAK,CAACM,IAAI,CAAC,KAAKC,SAAS,EAAE;cAClCP,KAAK,CAACM,IAAI,CAAC,GAAGP,KAAI,CAACC,KAAK,CAACM,IAAI,CAAC;YAChC;UACF,CAAC,CAAC;QACJ;QAIA,OAAO,IAAAE,oBAAa,EAACnB,iBAAiB,EAAEW,KAAK,EAAE,IAAI,CAACA,KAAK,CAACS,QAAQ,CAAC;MACrE;IAAC;EAAA,EAvB6B3B,UAAU,GAAAL,MAAA,CACjCU,WAAW,GAAY,WAAW,EAAAV,MAAA,CAuB1C;EAEDwB,MAAM,CAACS,cAAc,CAACzB,SAAS,EAAE,MAAM,EAAE;IACvCa,KAAK,EAAEZ,IAAI;IACXyB,QAAQ,EAAE,KAAK;IACfC,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAChB,CAAC,CAAC;EAEF5B,SAAS,CAACE,WAAW,GAAGE,iBAAiB;EAGzCY,MAAM,CAACG,IAAI,CAAC1B,aAAa,CAAC,CAAC2B,OAAO,CAAC,UAAAS,WAAW,EAAI;IAChD7B,SAAS,CAAC6B,WAAW,CAAC,GAAGpC,aAAa,CAACoC,WAAW,CAAC;EACrD,CAAC,CAAC;EAEF,IAAI1C,eAAe,IAAI,IAAI,EAAE;IAE3B6B,MAAM,CAACC,MAAM,CAACjB,SAAS,CAACF,SAAS,EAAEX,eAAe,CAAC;EACrD;EAGA,OAAOa,SAAS;AAClB","ignoreList":[]}