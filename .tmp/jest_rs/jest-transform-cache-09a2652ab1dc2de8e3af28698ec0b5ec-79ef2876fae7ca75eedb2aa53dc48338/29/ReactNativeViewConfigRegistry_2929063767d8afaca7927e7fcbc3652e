69e73990319612933198ebc4e6e90a70
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.customDirectEventTypes = exports.customBubblingEventTypes = void 0;
exports.get = get;
exports.register = register;
var _invariant = _interopRequireDefault(require("invariant"));
var customBubblingEventTypes = exports.customBubblingEventTypes = {};
var customDirectEventTypes = exports.customDirectEventTypes = {};
var viewConfigCallbacks = new Map();
var viewConfigs = new Map();
function processEventTypes(viewConfig) {
  var bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  if (__DEV__) {
    if (bubblingEventTypes != null && directEventTypes != null) {
      for (var topLevelType in directEventTypes) {
        (0, _invariant.default)(bubblingEventTypes[topLevelType] == null, 'Event cannot be both direct and bubbling: %s', topLevelType);
      }
    }
  }
  if (bubblingEventTypes != null) {
    for (var _topLevelType in bubblingEventTypes) {
      if (customBubblingEventTypes[_topLevelType] == null) {
        customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
      }
    }
  }
  if (directEventTypes != null) {
    for (var _topLevelType2 in directEventTypes) {
      if (customDirectEventTypes[_topLevelType2] == null) {
        customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
      }
    }
  }
}
function register(name, callback) {
  (0, _invariant.default)(!viewConfigCallbacks.has(name), 'Tried to register two views with the same name %s', name);
  (0, _invariant.default)(typeof callback === 'function', 'View config getter callback for component `%s` must be a function (received `%s`)', name, callback === null ? 'null' : typeof callback);
  viewConfigCallbacks.set(name, callback);
  return name;
}
function get(name) {
  var viewConfig = viewConfigs.get(name);
  if (viewConfig == null) {
    var callback = viewConfigCallbacks.get(name);
    if (typeof callback !== 'function') {
      (0, _invariant.default)(false, 'View config getter callback for component `%s` must be a function (received `%s`).%s', name, callback === null ? 'null' : typeof callback, typeof name[0] === 'string' && /[a-z]/.test(name[0]) ? ' Make sure to start component names with a capital letter.' : '');
    }
    viewConfig = callback();
    (0, _invariant.default)(viewConfig, 'View config not found for component `%s`', name);
    processEventTypes(viewConfig);
    viewConfigs.set(name, viewConfig);
    viewConfigCallbacks.set(name, null);
  }
  return viewConfig;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImN1c3RvbURpcmVjdEV2ZW50VHlwZXMiLCJjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMiLCJnZXQiLCJyZWdpc3RlciIsIl9pbnZhcmlhbnQiLCJ2aWV3Q29uZmlnQ2FsbGJhY2tzIiwiTWFwIiwidmlld0NvbmZpZ3MiLCJwcm9jZXNzRXZlbnRUeXBlcyIsInZpZXdDb25maWciLCJidWJibGluZ0V2ZW50VHlwZXMiLCJkaXJlY3RFdmVudFR5cGVzIiwiX19ERVZfXyIsInRvcExldmVsVHlwZSIsImludmFyaWFudCIsIm5hbWUiLCJjYWxsYmFjayIsImhhcyIsInNldCIsInRlc3QiXSwic291cmNlcyI6WyJSZWFjdE5hdGl2ZVZpZXdDb25maWdSZWdpc3RyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQG5vZm9ybWF0XG4gKiBAbm9saW50XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBnZW5lcmF0ZWQgU2lnbmVkU291cmNlPDw4MzA3MzQyNWFhM2Y3MWNlZDJjOGM1MWYyNWEyNTkzOD4+XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge3R5cGUgVmlld0NvbmZpZ30gZnJvbSAnLi9SZWFjdE5hdGl2ZVR5cGVzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcblxuLy8gRXZlbnQgY29uZmlnc1xuZXhwb3J0IGNvbnN0IGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlczoge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiAkUmVhZE9ubHk8e1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiAkUmVhZE9ubHk8e1xuICAgICAgY2FwdHVyZWQ6IHN0cmluZyxcbiAgICAgIGJ1YmJsZWQ6IHN0cmluZyxcbiAgICAgIHNraXBCdWJibGluZz86ID9ib29sZWFuLFxuICAgIH0+LFxuICB9Pixcbn0gPSB7fTtcbmV4cG9ydCBjb25zdCBjdXN0b21EaXJlY3RFdmVudFR5cGVzOiB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106ICRSZWFkT25seTx7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogc3RyaW5nLFxuICB9Pixcbn0gPSB7fTtcblxuY29uc3Qgdmlld0NvbmZpZ0NhbGxiYWNrcyA9IG5ldyBNYXA8c3RyaW5nLCA/KCkgPT4gVmlld0NvbmZpZz4oKTtcbmNvbnN0IHZpZXdDb25maWdzID0gbmV3IE1hcDxzdHJpbmcsIFZpZXdDb25maWc+KCk7XG5cbmZ1bmN0aW9uIHByb2Nlc3NFdmVudFR5cGVzKHZpZXdDb25maWc6IFZpZXdDb25maWcpOiB2b2lkIHtcbiAgY29uc3Qge2J1YmJsaW5nRXZlbnRUeXBlcywgZGlyZWN0RXZlbnRUeXBlc30gPSB2aWV3Q29uZmlnO1xuXG4gIGlmIChfX0RFVl9fKSB7XG4gICAgaWYgKGJ1YmJsaW5nRXZlbnRUeXBlcyAhPSBudWxsICYmIGRpcmVjdEV2ZW50VHlwZXMgIT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCB0b3BMZXZlbFR5cGUgaW4gZGlyZWN0RXZlbnRUeXBlcykge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgYnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCxcbiAgICAgICAgICAnRXZlbnQgY2Fubm90IGJlIGJvdGggZGlyZWN0IGFuZCBidWJibGluZzogJXMnLFxuICAgICAgICAgIHRvcExldmVsVHlwZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICBmb3IgKGNvbnN0IHRvcExldmVsVHlwZSBpbiBidWJibGluZ0V2ZW50VHlwZXMpIHtcbiAgICAgIGlmIChjdXN0b21CdWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsKSB7XG4gICAgICAgIGN1c3RvbUJ1YmJsaW5nRXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdID1cbiAgICAgICAgICBidWJibGluZ0V2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgZm9yIChjb25zdCB0b3BMZXZlbFR5cGUgaW4gZGlyZWN0RXZlbnRUeXBlcykge1xuICAgICAgaWYgKGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9PSBudWxsKSB7XG4gICAgICAgIGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXSA9IGRpcmVjdEV2ZW50VHlwZXNbdG9wTGV2ZWxUeXBlXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBuYXRpdmUgdmlldy9jb21wb25lbnQgYnkgbmFtZS5cbiAqIEEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgdG8gbG9hZCB0aGUgdmlldyBjb25maWcgZnJvbSBVSU1hbmFnZXIuXG4gKiBUaGUgY2FsbGJhY2sgaXMgZGVmZXJyZWQgdW50aWwgdGhlIHZpZXcgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiBWaWV3Q29uZmlnKTogc3RyaW5nIHtcbiAgaW52YXJpYW50KFxuICAgICF2aWV3Q29uZmlnQ2FsbGJhY2tzLmhhcyhuYW1lKSxcbiAgICAnVHJpZWQgdG8gcmVnaXN0ZXIgdHdvIHZpZXdzIHdpdGggdGhlIHNhbWUgbmFtZSAlcycsXG4gICAgbmFtZSxcbiAgKTtcbiAgaW52YXJpYW50KFxuICAgIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAnVmlldyBjb25maWcgZ2V0dGVyIGNhbGxiYWNrIGZvciBjb21wb25lbnQgYCVzYCBtdXN0IGJlIGEgZnVuY3Rpb24gKHJlY2VpdmVkIGAlc2ApJyxcbiAgICBuYW1lLFxuICAgIGNhbGxiYWNrID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNhbGxiYWNrLFxuICApO1xuICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBjYWxsYmFjayk7XG4gIHJldHVybiBuYW1lO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBhIGNvbmZpZyBmb3IgdGhlIHNwZWNpZmllZCB2aWV3LlxuICogSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgdmlldyBoYXMgYmVlbiB1c2VkLFxuICogVGhpcyBjb25maWd1cmF0aW9uIHdpbGwgYmUgbGF6eS1sb2FkZWQgZnJvbSBVSU1hbmFnZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQobmFtZTogc3RyaW5nKTogVmlld0NvbmZpZyB7XG4gIGxldCB2aWV3Q29uZmlnID0gdmlld0NvbmZpZ3MuZ2V0KG5hbWUpO1xuICBpZiAodmlld0NvbmZpZyA9PSBudWxsKSB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSB2aWV3Q29uZmlnQ2FsbGJhY2tzLmdldChuYW1lKTtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAnVmlldyBjb25maWcgZ2V0dGVyIGNhbGxiYWNrIGZvciBjb21wb25lbnQgYCVzYCBtdXN0IGJlIGEgZnVuY3Rpb24gKHJlY2VpdmVkIGAlc2ApLiVzJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgY2FsbGJhY2sgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY2FsbGJhY2ssXG4gICAgICAgIC8vICRGbG93Rml4TWVbcmVjdXJzaXZlLWRlZmluaXRpb25dXG4gICAgICAgIHR5cGVvZiBuYW1lWzBdID09PSAnc3RyaW5nJyAmJiAvW2Etel0vLnRlc3QobmFtZVswXSlcbiAgICAgICAgICA/ICcgTWFrZSBzdXJlIHRvIHN0YXJ0IGNvbXBvbmVudCBuYW1lcyB3aXRoIGEgY2FwaXRhbCBsZXR0ZXIuJ1xuICAgICAgICAgIDogJycsXG4gICAgICApO1xuICAgIH1cbiAgICB2aWV3Q29uZmlnID0gY2FsbGJhY2soKTtcbiAgICBpbnZhcmlhbnQodmlld0NvbmZpZywgJ1ZpZXcgY29uZmlnIG5vdCBmb3VuZCBmb3IgY29tcG9uZW50IGAlc2AnLCBuYW1lKTtcblxuICAgIHByb2Nlc3NFdmVudFR5cGVzKHZpZXdDb25maWcpO1xuICAgIHZpZXdDb25maWdzLnNldChuYW1lLCB2aWV3Q29uZmlnKTtcblxuICAgIC8vIENsZWFyIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgY29uZmlnIGlzIHNldCBzbyB0aGF0XG4gICAgLy8gd2UgZG9uJ3QgbWFzayBhbnkgZXJyb3JzIGR1cmluZyByZWdpc3RyYXRpb24uXG4gICAgdmlld0NvbmZpZ0NhbGxiYWNrcy5zZXQobmFtZSwgbnVsbCk7XG4gIH1cbiAgcmV0dXJuIHZpZXdDb25maWc7XG59XG4iXSwibWFwcGluZ3MiOiJBQVlBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQSxpREFBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxzQkFBQSxHQUFBRixPQUFBLENBQUFHLHdCQUFBO0FBQUFILE9BQUEsQ0FBQUksR0FBQSxHQUFBQSxHQUFBO0FBQUFKLE9BQUEsQ0FBQUssUUFBQSxHQUFBQSxRQUFBO0FBR2IsSUFBQUMsVUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBR08sSUFBTU8sd0JBUVosR0FBQUgsT0FBQSxDQUFBRyx3QkFBQSxHQUFHLENBQUMsQ0FBQztBQUNDLElBQU1ELHNCQUlaLEdBQUFGLE9BQUEsQ0FBQUUsc0JBQUEsR0FBRyxDQUFDLENBQUM7QUFFTixJQUFNSyxtQkFBbUIsR0FBRyxJQUFJQyxHQUFHLENBQTRCLENBQUM7QUFDaEUsSUFBTUMsV0FBVyxHQUFHLElBQUlELEdBQUcsQ0FBcUIsQ0FBQztBQUVqRCxTQUFTRSxpQkFBaUJBLENBQUNDLFVBQXNCLEVBQVE7RUFDdkQsSUFBT0Msa0JBQWtCLEdBQXNCRCxVQUFVLENBQWxEQyxrQkFBa0I7SUFBRUMsZ0JBQWdCLEdBQUlGLFVBQVUsQ0FBOUJFLGdCQUFnQjtFQUUzQyxJQUFJQyxPQUFPLEVBQUU7SUFDWCxJQUFJRixrQkFBa0IsSUFBSSxJQUFJLElBQUlDLGdCQUFnQixJQUFJLElBQUksRUFBRTtNQUMxRCxLQUFLLElBQU1FLFlBQVksSUFBSUYsZ0JBQWdCLEVBQUU7UUFDM0MsSUFBQUcsa0JBQVMsRUFDUEosa0JBQWtCLENBQUNHLFlBQVksQ0FBQyxJQUFJLElBQUksRUFDeEMsOENBQThDLEVBQzlDQSxZQUNGLENBQUM7TUFDSDtJQUNGO0VBQ0Y7RUFFQSxJQUFJSCxrQkFBa0IsSUFBSSxJQUFJLEVBQUU7SUFDOUIsS0FBSyxJQUFNRyxhQUFZLElBQUlILGtCQUFrQixFQUFFO01BQzdDLElBQUlULHdCQUF3QixDQUFDWSxhQUFZLENBQUMsSUFBSSxJQUFJLEVBQUU7UUFDbERaLHdCQUF3QixDQUFDWSxhQUFZLENBQUMsR0FDcENILGtCQUFrQixDQUFDRyxhQUFZLENBQUM7TUFDcEM7SUFDRjtFQUNGO0VBRUEsSUFBSUYsZ0JBQWdCLElBQUksSUFBSSxFQUFFO0lBQzVCLEtBQUssSUFBTUUsY0FBWSxJQUFJRixnQkFBZ0IsRUFBRTtNQUMzQyxJQUFJWCxzQkFBc0IsQ0FBQ2EsY0FBWSxDQUFDLElBQUksSUFBSSxFQUFFO1FBQ2hEYixzQkFBc0IsQ0FBQ2EsY0FBWSxDQUFDLEdBQUdGLGdCQUFnQixDQUFDRSxjQUFZLENBQUM7TUFDdkU7SUFDRjtFQUNGO0FBQ0Y7QUFPTyxTQUFTVixRQUFRQSxDQUFDWSxJQUFZLEVBQUVDLFFBQTBCLEVBQVU7RUFDekUsSUFBQUYsa0JBQVMsRUFDUCxDQUFDVCxtQkFBbUIsQ0FBQ1ksR0FBRyxDQUFDRixJQUFJLENBQUMsRUFDOUIsbURBQW1ELEVBQ25EQSxJQUNGLENBQUM7RUFDRCxJQUFBRCxrQkFBUyxFQUNQLE9BQU9FLFFBQVEsS0FBSyxVQUFVLEVBQzlCLG1GQUFtRixFQUNuRkQsSUFBSSxFQUNKQyxRQUFRLEtBQUssSUFBSSxHQUFHLE1BQU0sR0FBRyxPQUFPQSxRQUN0QyxDQUFDO0VBQ0RYLG1CQUFtQixDQUFDYSxHQUFHLENBQUNILElBQUksRUFBRUMsUUFBUSxDQUFDO0VBQ3ZDLE9BQU9ELElBQUk7QUFDYjtBQU9PLFNBQVNiLEdBQUdBLENBQUNhLElBQVksRUFBYztFQUM1QyxJQUFJTixVQUFVLEdBQUdGLFdBQVcsQ0FBQ0wsR0FBRyxDQUFDYSxJQUFJLENBQUM7RUFDdEMsSUFBSU4sVUFBVSxJQUFJLElBQUksRUFBRTtJQUN0QixJQUFNTyxRQUFRLEdBQUdYLG1CQUFtQixDQUFDSCxHQUFHLENBQUNhLElBQUksQ0FBQztJQUM5QyxJQUFJLE9BQU9DLFFBQVEsS0FBSyxVQUFVLEVBQUU7TUFDbEMsSUFBQUYsa0JBQVMsRUFDUCxLQUFLLEVBQ0wsc0ZBQXNGLEVBQ3RGQyxJQUFJLEVBQ0pDLFFBQVEsS0FBSyxJQUFJLEdBQUcsTUFBTSxHQUFHLE9BQU9BLFFBQVEsRUFFNUMsT0FBT0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUNJLElBQUksQ0FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQ2hELDREQUE0RCxHQUM1RCxFQUNOLENBQUM7SUFDSDtJQUNBTixVQUFVLEdBQUdPLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZCLElBQUFGLGtCQUFTLEVBQUNMLFVBQVUsRUFBRSwwQ0FBMEMsRUFBRU0sSUFBSSxDQUFDO0lBRXZFUCxpQkFBaUIsQ0FBQ0MsVUFBVSxDQUFDO0lBQzdCRixXQUFXLENBQUNXLEdBQUcsQ0FBQ0gsSUFBSSxFQUFFTixVQUFVLENBQUM7SUFJakNKLG1CQUFtQixDQUFDYSxHQUFHLENBQUNILElBQUksRUFBRSxJQUFJLENBQUM7RUFDckM7RUFDQSxPQUFPTixVQUFVO0FBQ25CIiwiaWdub3JlTGlzdCI6W119