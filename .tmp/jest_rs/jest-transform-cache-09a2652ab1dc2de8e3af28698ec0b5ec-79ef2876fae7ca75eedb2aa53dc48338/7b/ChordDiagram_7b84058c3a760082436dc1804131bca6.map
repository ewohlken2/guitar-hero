{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_theme","_jsxRuntime","sizeConfig","small","width","fretHeight","fontSize","sm","medium","md","large","lg","ChordDiagram","_ref","chord","_ref$size","size","_ref$showName","showName","config","stringSpacing","fretCount","dotSize","renderStrings","jsx","View","style","styles","stringsContainer","children","map","stringIndex","string","left","height","renderFrets","fretsContainer","fretIndex","fret","top","nutFret","renderFingerPositions","diagram","strings","fretNum","finger","fingers","x","y","dot","borderRadius","Text","fingerText","renderStringMarkers","markerSize","muteMarker","openMarker","jsxs","container","chordName","primaryName","diagramContainer","paddingTop","StyleSheet","create","alignItems","color","colors","text","fontWeight","marginBottom","spacing","position","right","bottom","backgroundColor","textSecondary","primary","justifyContent","backgroundDark","borderWidth","borderColor"],"sources":["ChordDiagram.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\nimport { Chord } from '../types';\nimport { colors, spacing, fontSize } from '../constants/theme';\n\ninterface ChordDiagramProps {\n  chord: Chord;\n  size?: 'small' | 'medium' | 'large';\n  showName?: boolean;\n}\n\nconst sizeConfig = {\n  small: { width: 80, fretHeight: 16, fontSize: fontSize.sm },\n  medium: { width: 120, fretHeight: 24, fontSize: fontSize.md },\n  large: { width: 180, fretHeight: 36, fontSize: fontSize.lg },\n};\n\nexport function ChordDiagram({ chord, size = 'medium', showName = true }: ChordDiagramProps) {\n  const config = sizeConfig[size];\n  const stringSpacing = config.width / 6;\n  const fretCount = 5;\n  const dotSize = config.fretHeight * 0.6;\n\n  const renderStrings = () => {\n    return (\n      <View style={styles.stringsContainer}>\n        {[0, 1, 2, 3, 4, 5].map((stringIndex) => (\n          <View\n            key={stringIndex}\n            style={[\n              styles.string,\n              {\n                left: stringIndex * stringSpacing + stringSpacing / 2,\n                height: config.fretHeight * fretCount,\n              },\n            ]}\n          />\n        ))}\n      </View>\n    );\n  };\n\n  const renderFrets = () => {\n    return (\n      <View style={styles.fretsContainer}>\n        {[0, 1, 2, 3, 4, 5].map((fretIndex) => (\n          <View\n            key={fretIndex}\n            style={[\n              styles.fret,\n              {\n                top: fretIndex * config.fretHeight,\n                width: config.width - stringSpacing,\n                left: stringSpacing / 2,\n              },\n              fretIndex === 0 && styles.nutFret,\n            ]}\n          />\n        ))}\n      </View>\n    );\n  };\n\n  const renderFingerPositions = () => {\n    return chord.diagram.strings.map((fretNum, stringIndex) => {\n      if (fretNum <= 0) return null;\n\n      const finger = chord.diagram.fingers[stringIndex];\n      const x = stringIndex * stringSpacing + stringSpacing / 2;\n      const y = (fretNum - 0.5) * config.fretHeight;\n\n      return (\n        <View\n          key={`dot-${stringIndex}`}\n          style={[\n            styles.dot,\n            {\n              width: dotSize,\n              height: dotSize,\n              borderRadius: dotSize / 2,\n              left: x - dotSize / 2,\n              top: y - dotSize / 2,\n            },\n          ]}\n        >\n          {finger > 0 && (\n            <Text style={[styles.fingerText, { fontSize: dotSize * 0.6 }]}>{finger}</Text>\n          )}\n        </View>\n      );\n    });\n  };\n\n  const renderStringMarkers = () => {\n    return chord.diagram.strings.map((fretNum, stringIndex) => {\n      const x = stringIndex * stringSpacing + stringSpacing / 2;\n      const markerSize = dotSize * 0.6;\n\n      if (fretNum === -1) {\n        return (\n          <Text\n            key={`marker-${stringIndex}`}\n            style={[\n              styles.muteMarker,\n              {\n                left: x - markerSize / 2,\n                top: -config.fretHeight * 0.8,\n                fontSize: markerSize,\n              },\n            ]}\n          >\n            X\n          </Text>\n        );\n      }\n      if (fretNum === 0) {\n        return (\n          <View\n            key={`marker-${stringIndex}`}\n            style={[\n              styles.openMarker,\n              {\n                width: markerSize,\n                height: markerSize,\n                borderRadius: markerSize / 2,\n                left: x - markerSize / 2,\n                top: -config.fretHeight * 0.7,\n              },\n            ]}\n          />\n        );\n      }\n      return null;\n    });\n  };\n\n  return (\n    <View style={styles.container}>\n      {showName && (\n        <Text style={[styles.chordName, { fontSize: config.fontSize * 1.5 }]}>\n          {chord.primaryName}\n        </Text>\n      )}\n      <View\n        style={[\n          styles.diagramContainer,\n          {\n            width: config.width,\n            height: config.fretHeight * fretCount + config.fretHeight,\n            paddingTop: config.fretHeight,\n          },\n        ]}\n      >\n        {renderFrets()}\n        {renderStrings()}\n        {renderFingerPositions()}\n        {renderStringMarkers()}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n  },\n  chordName: {\n    color: colors.text,\n    fontWeight: 'bold',\n    marginBottom: spacing.sm,\n  },\n  diagramContainer: {\n    position: 'relative',\n  },\n  stringsContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  string: {\n    position: 'absolute',\n    width: 2,\n    backgroundColor: colors.textSecondary,\n    top: 0,\n  },\n  fretsContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  fret: {\n    position: 'absolute',\n    height: 2,\n    backgroundColor: colors.textSecondary,\n  },\n  nutFret: {\n    height: 6,\n    backgroundColor: colors.text,\n  },\n  dot: {\n    position: 'absolute',\n    backgroundColor: colors.primary,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  fingerText: {\n    color: colors.backgroundDark,\n    fontWeight: 'bold',\n  },\n  muteMarker: {\n    position: 'absolute',\n    color: colors.textSecondary,\n  },\n  openMarker: {\n    position: 'absolute',\n    borderWidth: 2,\n    borderColor: colors.textSecondary,\n    backgroundColor: 'transparent',\n  },\n});\n"],"mappings":"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","ignoreList":[]}